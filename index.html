<!DOCTYPE html>

<html>
<script>

const RPS_CHOICES = ['rock','paper','scissors'];

Array.prototype.randomChoice = function () {
    return this[Math.floor(Math.random() * this.length)]
}

function playRound (playerSelection, computerSelection) {
    playerSelection = playerSelection.toLowerCase();
    computerSelection = computerSelection.toLowerCase();
    
    
    if (!RPS_CHOICES.includes(playerSelection) || !RPS_CHOICES.includes(computerSelection)) {
        alert('Please type your choices with correct spelling');
        return false;
    } else {

        console.log('You chose ' + playerSelection + '; The computer chose ' + computerSelection)

        let winning_relationships = {'rock':'scissors', 'paper': 'rock', 'scissors': 'paper'};
        if (winning_relationships[playerSelection] == computerSelection) {
            console.log('You won!');
            return 1;
        } else if (winning_relationships[computerSelection] == playerSelection) {
            console.log('Sorry, you suc...Whoops! I meant to say you lost :P');
            return -1;
        } else {
            console.log('Its a draw! Try this round again.');
            return false;
        }
    }
}

function game (rounds) {

    rounds = (rounds) ? rounds : 5;
    let playerScore = 0;
    let computerScore = 0;
    for (i=0; i < rounds; i++) {
        let playerSelection = prompt('Enter your choice (rock, paper, scissors)');
        let computerSelection = RPS_CHOICES.randomChoice();
        let round_result = playRound(playerSelection, computerSelection);
        if (round_result === false) {
            i--;
        } else {
            (round_result == 1) ? playerScore++ : computerScore++
        }
    console.log('Current Score => Player:Computer - %s:%s', playerScore, computerScore)
    }
    (playerScore > computerScore) ? alert('You won the game!') : alert('You lost the game!')
}

</script>


<body>
    Enter game() in console to start the game!
</body>





</html>